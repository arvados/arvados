<html>
    <title>Shell login into <%= @webshell_hostname %> </title>
    <link rel="stylesheet" href="/webshell_styles.css" type="text/css">
    <style type="text/css">
      body {
        margin: 0px;
      }
    </style>
    <script type="text/javascript"><!--
      (function() {
        // We would like to hide overflowing lines as this can lead to
        // visually jarring results if the browser substitutes oversized
        // Unicode characters from different fonts. Unfortunately, a bug
        // in Firefox prevents it from allowing multi-line text
        // selections whenever we change the "overflow" style. So, only
        // do so for non-Netscape browsers.
        if (typeof navigator.appName == 'undefined' ||
            navigator.appName != 'Netscape') {
          document.write('<style type="text/css">' +
                         '#vt100 #console div, #vt100 #alt_console div {' +
                         '  overflow: hidden;' +
                         '}' +
                         '</style>');
        }
      })();

      function login(username, token) {
        var sh = new ShellInABox("<%= @webshell_url %>");
        setTimeout(function() {
          sh.keysPressed("<%= @webshell_login %>\n");
          setTimeout(function() {
            sh.keysPressed("<%= Thread.current[:arvados_api_token] %>\n");
          }, 1000);
        }, 1000);
      }
    -->
</script>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <script type="text/javascript" src="/shell_in_a_box.js"></script>
  </head>
  <!-- Load ShellInABox from a timer as Konqueror sometimes fails to
       correctly deal with the enclosing frameset (if any), if we do not
       do this
   -->
<body onload="setTimeout('login()', 100)"
    scroll="no"><noscript>JavaScript must be enabled for ShellInABox</noscript>
</body>
</html>
