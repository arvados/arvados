<% content_for :page_title do %>
  <%= (@object.respond_to?(:properties) and !@object.properties.nil? ? @object.properties[:page_title] : nil) ||
      @name_link.andand.name ||
      @object.friendly_link_name %>
<% end %>

<% content_for :content_top do %>
  <% if !['Group','User', 'Collection'].include? @object.class.to_s # projects and collections handle it themselves %>
    <%= render partial: 'name_and_description' %>
  <% end %>

<% if @object.respond_to? :properties and !@object.properties.nil? %>
  <% if @object.properties[:page_content] %>
    <% content_for :page_content do %>
      <h1>
        <%= render_markup(@object.properties[:page_title] || @object.uuid) %>
      </h1>

      <% if @object.properties[:page_subtitle] %>
        <h4>
          <%= render_markup @object.properties[:page_subtitle] %>
        </h4>
      <% end %>

      <%= render_markup @object.properties[:page_content] %>
    <% end %>
  <% end %>
<% end %>

<% end %>

<%= render partial: 'content', layout: 'content_layout', locals: {pane_list: controller.show_pane_list }%>
